
<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<!-- "$Id: SHUT3.html 1 2017-06-10 18:05:20Z coats $" -->
<META NAME="MSSmartTagsPreventParsing" CONTENT="TRUE"> 
<TITLE> SHUT3() and shut3c() </TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFFF" 
      TOPMARGIN="15" 
      MARGINHEIGHT="15" 
      LEFTMARGIN="15" 
      MARGINWIDTH="15">

<H1>    SHUT3() and shut3c() </H1>

<H2> Fortran version: </H2>
<PRE>
    LOGICAL FUNCTION  SHUT3()
</PRE><P> 

<H2> C version: </H2>  
<BLOCKQUOTE>
    shut3c() is a C wrapper calling the Fortran SHUT3()
</BLOCKQUOTE><P> 

<PRE>
    int shut3c( ) ;
</PRE><P> 

<H2> See Also: </H2>
    <A HREF = "M3EXIT.html">M3EXIT()</A>, which is a wrapper around
    SHUT3() that also writes a program-termination message and exits
    the calling program with caller-supplied status.  
    <A HREF = "M3ERR.html">M3ERR()</A> is an obsolescent 
    variant of M3EXIT() that doesn't understand the difference 
    between program success and failure.
    <P> 

<H2> Summary: </H2>
    <CODE>SHUT3()</CODE> and <CODE>shut3c()</CODE> flush to disk and close all Models-3 
    I/O API files currently open.
    Return .TRUE. or 1, respectively, on success, and .FALSE. 
    or 0 on failure.  Failure also generates log-messages
    attempting to describe the error.

    Calling <A HREF = "INIT3.html"><CODE>INIT3()</CODE></A> after
    <CODE>SHUT3()</CODE>
    may cause strange results on some systems.  (Calls of <CODE>INIT3()</CODE> 
    subsequent to SHUT3() will generate a warning message from <CODE>INIT3()</CODE> 
    to the <A HREF = "ENVIRONMENT.html"> program log </A>).
    <P> 
    
    Note that <A HREF = "M3ERR.html"> M3ERR() </A> and 
    <A HREF = "M3EXIT.html"> M3EXIT() </A> do a 
    <CODE>CALL SHUT3()</CODE> prior to terminating a program.

<H2> Preconditions: </H2>

    <CODE><A HREF = "M3UTILIO.html">USE M3UTILIO</A></CODE> or
    <A HREF = "INCLUDE.html#iodecl"><CODE>INCLUDE 'IODECL3.EXT'</CODE> </A> 
    for Fortran, or  <BR>
    <CODE>#include &quot;iodecl3.h&quot;</CODE> for C.
    <P> 

    I/O API must already be initialized by a call to 
    <A HREF = "INIT3.html"><CODE>INIT3()</CODE></A>.
    <P> 

        
<H2> Fortran Usage: </H2>
<PRE>
    ...
    USE M3UTILIO
    ...
    IF ( .NOT. SHUT3( ) ) THEN
C	    Unable to flush or close some file now open.  How to deal
C	    with it?? -- probably an unrecoverable-error situation.
    ...
    END IF
    STOP
    ...
    END
</PRE><P> 

<H2> C Usage: </H2>
<PRE>
    ...
    #include &quot;iodecl3.h&quot;
    ...
    if ( ! shut3c( ) )
        {
            /*  unrecoverable-error situation ??  */
        ...
        exit( 2 ) ;
        }
    exit( 0 ) ;
    }
</PRE><P> 


<HR>

<A HREF = "READ3.html" >
Previous:  <STRONG>OPEN3</STRONG>
</A><P> 

<A HREF = "SYNC3.html" >
Next:  <STRONG>WRITE3</STRONG>
</A><P> 

<A HREF = "AA.html#ioapi"> 
Up: <STRONG>I/O API:  Public Routines</STRONG> 
</A>

<A HREF = "AA.html#utility"> 
Up: <STRONG>Utility Routines</STRONG> 
</A><P>

<A HREF = "AA.html"> 
To: <STRONG>Models-3/EDSS I/O API:   The Help Pages</STRONG> 
</A><P>

</BODY>
</HTML>

