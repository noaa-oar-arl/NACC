
<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<!-- "$Id: SAMPLE.html 75 2018-01-12 15:48:16Z coats $" -->
<META NAME="MSSmartTagsPreventParsing" CONTENT="TRUE"> 
<TITLE> I/O API Sample Programs </TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFFF"
      TOPMARGIN="15" 
      MARGINHEIGHT="15" 
      LEFTMARGIN="15" 
      MARGINWIDTH="15">

<!--#include virtual="/INCLUDES/header.html" -->

<H1>    Some Sample Programs Using the I/O&nbsp;API </H1>

    Here are six sample <VAR>m3tools</VAR> programs to show normal
    usage of the I/O&nbsp;API.  These programs were designed to show
    some typical interactive uses in a meaningful fashion (i.e., the programs really
    <U>do</U> compute something useful).  Note that a <U>modeling program</U>
    should use fixed logical names which are properties of the program itself,
    and should use <CODE>OPEN3()</CODE> and
    <A HREF="GETEFILE.html" ><CODE>GETEFILE()</CODE></A> (etc.), instead of prompting
    the user for file names with the <CODE>PROMPT*FILE()</CODE> routines.
    <P>

    <P>
    These programs also use a number of the utility and coordinate
    transformation routines.  Along with these programs, a number of
    I/O&nbsp;API data manipulation programs are also distributed, in the
    <VAR>m3tools</VAR> subdirectory of the release; they are
    <A HREF="AA.html#tools">documented here</A> in the I/O&nbsp;API
    Programmer/User Manual.
    <P>
    
    These sample programs are:
    <UL>
        <LI>  <A HREF = "LATLON.txt"><STRONG><VAR>latlon</VAR></STRONG></A> 
              computes single-layer time-independent gridded and/or
              boundary files containing <CODE>REAL</CODE> variables
              <CODE>LAT</CODE> and <CODE>LON</CODE> and
              <CODE>REAL*8</CODE> variables <CODE>LATD</CODE> and
              <CODE>LOND</CODE> containing latitudes and longitudes at
              cell centers for the specified grid and/or its boundary 
              (the choice of which file (or both) to generate is a  user
              option).  
              Uses
              <UL>
                  <LI>  <A HREF = "M3UTILIO.html"><CODE>MODULE&nbsp;M3UTILIO</CODE></A>
                  <LI>  <A HREF = "MODGCTP.html"><CODE>MODULE&nbsp;MODGCTP</CODE></A>
                  <LI>  <A HREF = "DSCGRID.html"><CODE>DSCGRID()</CODE></A>,
                  <LI>  <A HREF = "GETVAL.html"><CODE>GETVAL()</CODE></A>,
                  as generic for <CODE>GETDBLE(), GETMENU(), GETNUM(), GETREAL(), GETYN()</CODE>
                  <LI>  <A HREF = "GETSTR.html" ><CODE>GETSTR()</CODE></A>
                  <LI>  <A HREF = "GRID2XY.html"><CODE>GRID2XY()</CODE></A>
                  <LI>  <A HREF = "M3EXIT.html" ><CODE>M3EXIT()</CODE></A>
                  <LI>  <A HREF = "OPEN3.html"  ><CODE>OPEN3()</CODE></A>
                  <LI>  <A HREF = "XY2XY.html"  ><CODE>XY2XY()</CODE></A>
                  <LI>  <A HREF = "WRITE3.html" ><CODE>WRITE3()</CODE></A>
              </UL>
              <P> 
        <LI>  <A HREF = "M3PROBE.txt"><STRONG><VAR>m3probe</VAR></STRONG></A>
              extracts time series for a specified variable for a
              specified set of points from an input file of type
              <CODE>GRIDDED, BOUNDARY,</CODE> or <CODE>CUSTOM</CODE>,
              and writes the resulting time series as columns to a
              human-readable ASCII REPORT-file.
              <BR>
              Note that this program also demonstrates how
              array-subscript order works for <CODE>BOUNDARY</CODE>
              files.
              <UL>
                  <LI>  <A HREF = "M3UTILIO.html"><CODE>MODULE&nbsp;M3UTILIO</CODE></A>
                  <LI>  <A HREF = "DESC3.html"   ><CODE>DESC3()</CODE></A>
                  <LI>  <A HREF = "GETEFILE.html"><CODE>GETEFILE()</CODE></A>
                  <LI>  <A HREF = "GETSTR.html"  ><CODE>GETSTR()</CODE></A>
                  <LI>  <A HREF = "GETVAL.html"><CODE>GETVAL()</CODE></A>,
                  as generic for <CODE>GETNUM(), GETYN()</CODE>
                  <LI>  <A HREF = "M3EXIT.html"  ><CODE>M3EXIT()</CODE></A>
                  <LI>  <A HREF = "M3MESG.html"  ><CODE>M3MESG()</CODE></A>
                  <LI>  <A HREF = "NEXTIME.html" ><CODE>NEXTIME()</CODE></A>
                  <LI>  <A HREF = "OPEN3.html"   ><CODE>OPEN3()</CODE></A>
                  <LI>  <A HREF = "RUNSPEC.html" ><CODE>RUNSPEC()</CODE></A>
              </UL>
              <P> 
        <LI>  <A HREF = "M3CPLE.txt"><STRONG><VAR>m3cple</VAR></STRONG></A>
              reads all variables in each time step in the specified
              time step sequence from the specified input file, optionally
              under the control of the specified synchronization file,
              copies or interpolates them to the specified output grid,
              and write them to the specified output file.
              <UL>
                  <LI>  <A HREF = "M3UTILIO.html"><CODE>MODULE&nbsp;M3UTILIO</CODE></A>
                  <LI>  <A HREF = "MODGCTP.html" ><CODE>MODULE&nbsp;MODGCTP</CODE></A>
                  <LI>  <A HREF = "GETVAL.html"><CODE>GETVAL()</CODE></A>,
                  as generic for <CODE>GETNUM(), GETYN()</CODE>
                  <LI>  <A HREF = "CHECK3.html"  ><CODE>CHECK3()</CODE></A>
                  <LI>  <A HREF = "CURREC.html"  ><CODE>CURREC()</CODE></A>
                  <LI>  <A HREF = "DESC3.html"   ><CODE>DESC3()</CODE></A>
                  <LI>  <A HREF = "DSCGRID.html" ><CODE>DSCGRID()</CODE></A>
                  <LI>  <A HREF = "GETSTR.html"  ><CODE>GETSTR()</CODE></A>
                  <LI>  <A HREF = "GRID2INDX.html"><CODE>GRID2INDX()</CODE> and <CODE>INDXMULT()</CODE></A>
                  <LI>  <A HREF = "LASTTIME.html"><CODE>LASTTIME()</CODE></A>
                  <LI>  <A HREF = "LUSTR.html"   ><CODE>LUSTR()</CODE></A>
                  <LI>  <A HREF = "M3EXIT.html"  ><CODE>M3EXIT()</CODE></A>
                  <LI>  <A HREF = "M3MESG.html"  ><CODE>M3MESG()</CODE></A>
                  <LI>  <A HREF = "M3WARN.html"  ><CODE>M3WARN()</CODE></A>
                  <LI>  <A HREF = "NEXTIME.html" ><CODE>NEXTIME()</CODE></A>
                  <LI>  <A HREF = "OPEN3.html"   ><CODE>OPEN3()</CODE></A>
                  <LI>  <A HREF = "PROMPTMFILE.html"><CODE>PROMPTMFILE()</CODE></A>
                  <LI>  <A HREF = "READ3.html"   ><CODE>READ3()</CODE></A>
                  <LI>  <A HREF = "UPCASE.html"  ><CODE>UPCASE()</CODE></A>
                  <LI>  <A HREF = "WRITE3.html"  ><CODE>WRITE3()</CODE></A>
              </UL>
              <P> 
        <LI>  <A HREF = "MTXCALC.txt"><STRONG><VAR>mtxcalc</VAR></STRONG></A>
              computes a sparse grid-to-grid transform matrix for
              specified input and output grids, and write the result to
              a sparse-matrix file.
              <UL>
                  <LI>  <A HREF = "M3UTILIO.html"><CODE>MODULE&nbsp;M3UTILIO</CODE></A>
                  <LI>  <A HREF = "MODATTS3.html"><CODE>MODULE&nbsp;MODATTS3</CODE></A>
                  <LI>  <A HREF = "MODGCTP.html" ><CODE>MODULE&nbsp;MODGCTP</CODE></A>
                  <LI>  <A HREF = "DSCGRID.html" ><CODE>DSCGRID()</CODE></A>
                  <LI>  <A HREF = "ENVGETS.html" ><CODE>ENVGET()</CODE></A> as generic for <CODE>ENVINT(), ENVREAL()</CODE>
                  <LI>  <A HREF = "GETVAL.html"  ><CODE>GETVAL()</CODE></A> as generic for <CODE>GETYN()</CODE>
                  <LI>  <A HREF = "GRID2XY.html" ><CODE>GRID2XY()</CODE></A>
                  <LI>  <A HREF = "M3EXIT.html"  ><CODE>M3EXIT()</CODE></A>
                  <LI>  <A HREF = "M3MESG.html"  ><CODE>M3MESG()</CODE></A>
                  <LI>  <A HREF = "OPEN3.html"   ><CODE>OPEN3()</CODE></A>
                  <LI>  <A HREF = "PROMPTFFILE.html"><CODE>PROMPTFFILE()</CODE></A>
                  <LI>  <A HREF = "MODATTS3.html#setmtxatt">  <CODE>SETMTXATT()</CODE></A>
                  <LI>  <A HREF = "WRITE3.html"  ><CODE>WRITE3()</CODE></A>
              </UL>
              <P>
        <LI>  <A HREF = "PRESZ.txt"><STRONG><VAR>presz</VAR></STRONG></A> 
              optionally reads in a file containing gridded terrain
              heights, prompts the user for a (hydrostatic) vertical
              grid, and then constructs a time-independent layered 
              gridded file containing the following variables for an MM5-style
              reference atmosphere:
              <UL>
                  <LI>  <CODE>TA</CODE> (meters), Temperataure (K)
                        at the half-levels (i.e., at layer centers).
                  <LI>  <CODE>ZH</CODE> (meters), hypsometric-approximation heights
                        at the half-levels (i.e., at layer centers).
                  <LI>  <CODE>ZF</CODE> (meters), heights at the full levels (i.e., 
                        at layer-tops).
                  <LI>  <CODE>PRESH</CODE>, pressures at the half-levels.
                  <LI>  <CODE>PRESF</CODE>, pressures at the full levels.
              </UL>
              Uses
              <UL>
                  <LI>  <A HREF = "M3UTILIO.html"><CODE>MODULE&nbsp;M3UTILIO</CODE></A>
                  <LI>  <A HREF = "DESC3.html"><CODE>DESC3()</CODE></A>
                  <LI>  <A HREF = "DSCGRID.html"><CODE>DSCGRID()</CODE></A>
                  <LI>  <A HREF = "GETVAL.html"><CODE>GETVAL()</CODE></A>,
                  as generic for <CODE>GETDBLE(), GETMENU(), GETNUM(), GETREAL(), GETYN()</CODE>
                  <LI>  <A HREF = "GETSTR.html"><CODE>GETSTR()</CODE></A>
                  <LI>  <A HREF = "M3EXIT.html"><CODE>M3EXIT()</CODE></A>
                  <LI>  <A HREF = "M3WARN.html"><CODE>M3WARN()</CODE></A>
                  <LI>  <A HREF = "OPEN3.html"><CODE>OPEN3()</CODE></A>
                  <LI>  <A HREF = "READ3.html"><CODE>READ3()</CODE></A>
                  <LI>  <A HREF = "WRATT3.html"><CODE>WRATT3()</CODE></A>
                  <LI>  <A HREF = "WRITE3.html"><CODE>WRITE3()</CODE></A>
              </UL>
              <P>
        <LI>  <A HREF = "VERTINTEGRAL.txt"><STRONG><VAR>vertintegral</VAR></STRONG></A>
              computes the vertical-column integral mass for each timestep
              of each variable in a user-specified GRIDDED Models-3 CMAQ CONC
              file and writes the result to a user-specified 1-layer GRIDDED
              output file.  It requires the use of an MCIP output
              <VAR>MET_CRO_3D</VAR> file on the same grid and for the
              same time period, for variables <CODE>DENS</CODE> and  <CODE>ZF</CODE>
              used in the calculation.  This program also demonstrates OpenMP
              parallelism, and how to use command line arguments.
              <UL>
                  <LI>  <A HREF = "M3UTILIO.html"><CODE>MODULE&nbsp;M3UTILIO</CODE></A>
                  <LI>  <A HREF = "CHECK3.html"><CODE>CHECK3()</CODE></A>
                  <LI>  <A HREF = "DESC3.html"><CODE>DESC3()</CODE></A>
                  <LI>  <A HREF = "FILCHK3.html"><CODE>FILCHK3()</CODE></A>
                  <LI>  <A HREF = "GETNUM.html"><CODE>GETNUM()</CODE></A>
                  <LI>  <A HREF = "GRDCHK3.html"><CODE>GRDCHK3()</CODE></A>
                  <LI>  <A HREF = "INIT3.html"><CODE>INIT3()</CODE></A>
                  <LI>  <A HREF = "M3EXIT.html"><CODE>M3EXIT()</CODE></A>
                  <LI>  <A HREF = "M3MESG.html"><CODE>M3MESG()</CODE></A>
                  <LI>  <A HREF = "NEXTIME.html"><CODE>NEXTIME()</CODE></A>
                  <LI>  <A HREF = "OPEN3.html"><CODE>OPEN3()</CODE></A>
                  <LI>  <A HREF = "PROMPTMFILE.html"><CODE>PROMPTMFILE()</CODE></A>
                  <LI>  <A HREF = "READ3.html"><CODE>READ3()</CODE></A>
                  <LI>  <A HREF = "SEC2TIME.html"><CODE>SEC2TIME()</CODE></A>
                  <LI>  <A HREF = "TIME2SEC.html"><CODE>TIME2SEC()</CODE></A>
                  <LI>  <A HREF = "WRITE3.html"><CODE>WRITE3()</CODE></A>
              </UL>
              <P>
        <LI>  <A HREF = "MPASWTEST.txt"><STRONG><VAR>mpaswtest</VAR></STRONG></A>
              demonstrates uses of routines from module
              <CODE>MODMPASFIO</CODE>.
              <UL>
                  <LI>  <A HREF = "M3UTILIO.html"><CODE>MODULE&nbsp;M3UTILIO</CODE></A>
                  <LI>  <A HREF = "MODNCFIO.html"><CODE>MODULE&nbsp;MODNCFIO</CODE></A>
                  <LI>  <A HREF = "MODMPASFIO.html" ><CODE>MODULE&nbsp;MODMPASFIO</CODE></A>
                  <LI>  <A HREF = "MODMPASFIO.html#init" > <CODE>INITMPGRID()</CODE></A>
                  <LI>  <A HREF = "MODMPASFIO.html#find" > <CODE>FINDCELL()</CODE></A>
                  <LI>  <A HREF = "MODMPASFIO.html#find" > <CODE>FINDVRTX()</CODE></A>
                  <LI>  <A HREF = "MODMPASFIO.html#dist" > <CODE>SPHEREDIST()</CODE></A>
                  <LI>  <A HREF = "MODMPASFIO.html#wght" > <CODE>ARC2MPAS()</CODE></A>
                  <LI>  <A HREF = "MODMPASFIO.html#creat"> <CODE>CREATEMPAS()</CODE></A>
                  <LI>  <A HREF = "MODMPASFIO.html#desc" > <CODE>DESCMPAS()</CODE></A>
                  <LI>  <A HREF = "MODMPASFIO.html#read" > <CODE>READMPAS()</CODE></A>
                  <LI>  <A HREF = "MODMPASFIO.html#write"> <CODE>WRITEMPAS()</CODE></A>
                  <LI>  <A HREF = "MODMPASFIO.html#shut "> <CODE>SHUTMPGRID()</CODE></A>
                  <LI>  <A HREF = "INIT3.html" > <CODE>INIT3()</CODE></A>
                  <LI>  <A HREF = "M3MESG.html"> <CODE>M3MESG()</CODE></A>
                  <LI>  <A HREF = "GETVAL.html"> <CODE>GETVAL()</CODE></A>,
                  as generic for <CODE>GETDBLE(), GETMENU(), GETNUM(), GETREAL(), GETYN()</CODE>
                  <LI>  <A HREF = "M3EXIT.html"> <CODE>M3EXIT()</CODE></A>
              </UL>
              <P>
    </UL>


<HR> <!----------------------------------------------------------------->

<A HREF = "NCDUMP.html" >
next:  <STRONG>NCDUMP</STRONG>
</A><P> 

<A HREF = "AA.html#tools"> 
Up: <STRONG>Related Programs</STRONG> 
</A><P>

<A HREF = "AA.html"> 
To: <STRONG>Models-3/EDSS I/O API:   The Help Pages</STRONG> 
</A><P>

<HR> <!----------------------------------------------------------------->

<!--#include virtual="/INCLUDES/footer.html" -->
    
</BODY>
</HTML>

