
<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<!-- "$Id: MODWRFIO.html 4 2017-06-20 17:43:15Z coats $" -->
<META NAME="MSSmartTagsPreventParsing" CONTENT="TRUE">
<TITLE>MODULE MODWRFIO</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFFF"
      TOPMARGIN="15"
      MARGINHEIGHT="15"
      LEFTMARGIN="15"
      MARGINWIDTH="15">

<!--#include virtual="/INCLUDES/header.html" -->

<H1>    Fortran-90 <CODE>MODULE MODWRFIO</CODE> </H1>

<H2>Summary</H2>

<BLOCKQUOTE>

    <EM>New for I/O&nbsp;API-3.2!!</EM>
    <P>
     Routines and <CODE>INTERFACE</CODE>s for reading WRF netCDF files.
     <P>
     Presently, only single-file operation is supported:  for multiple
     files, you must <CODE>CLOSEWRF()</CODE> any currently-open WRF file
     before opening and reading or writing another.
    <P>

    <STRONG>See also</STRONG>
    <A HREF = "MODNCFIO.html"><CODE>MODULE MODNCFIO</CODE></A> and 
    <A HREF = "MODMPASFIO.html"><CODE>MODULE MODMPASFIO</CODE></A>.

</BLOCKQUOTE>

<H2>New Routines:</H2>

<BLOCKQUOTE>

    <H3><CODE>OPENWRF()</CODE></H3>
    Opens the WRF-netCDF format file with logical name FNAME for read or 
    read/write.
    <PRE>
    LOGICAL FUNCTION OPENWRF( FNAME, GNAME, FSTATUS )
        CHARACTER(LEN=*), INTENT(IN   ) :: FNAME        !!  logical file name
        CHARACTER(LEN=*), INTENT(IN   ) :: GNAME        !!  GRIDDESC name for output grid
        INTEGER         , INTENT(IN   ) :: FSTATUS      !!  FSREAD3, FSRDWR3
    </PRE>
    <P>

    <H3><CODE>CRTWRF()</CODE></H3>
    Opens/creates a new WRF-netCDF format file with logical name FNAME for
    read/write.<BR>
    <EM>Not yet implemented!  (place-holder only; returns <CODE>.FALSE.</CODE>.)</EM>
    <PRE>
    LOGICAL FUNCTION CRTWRF( FNAME, GNAME, FSTATUS )
        CHARACTER(LEN=*), INTENT(IN   ) :: FNAME        !!  logical file name
        CHARACTER(LEN=*), INTENT(IN   ) :: GNAME        !!  GRIDDESC name for output grid
        INTEGER         , INTENT(IN   ) :: FSTATUS      !!  FSUNKN3, FSCREA3, FSNEW3
    </PRE>
    <P>

    <H3><CODE>READWRF()</CODE></H3>
    Reads the indicated time step for the indicated variable from the current WRF-netCDF
    format file.  The variable may be 1-D, 2-D, or 3-D, and of one of the types
    <CODE>{ M3INT, M3REAL, M3DBLE }</CODE>.  Returns <CODE>.FALSE.</CODE> if the
    variable or the time step is not available, if the type or dimensionality is
    not supported, or if there is a read-failure.
    <PRE>
    LOGICAL FUNCTION READWRF( VNAME, JDATE, JTIME, NCOLS, [NROWS, [NLAYS,]] BUF )
        CHARACTER(LEN=*), INTENT(IN   ) :: VNAME
        INTEGER         , INTENT(IN   ) :: JDATE, JTIME
        INTEGER         , INTENT(IN   ) :: NCOLS[, NROWS[, NLAYS,]]
        &lt;type&gt;          , INTENT(  OUT) :: BUF( NCOLS, [NROWS, [NLAYS,]] )
    </PRE>
    <P>

    <H3><CODE>WRITEWRF()</CODE></H3>
    Writes the indicated time step for the indicated variable to the
    current WRF-netCDF format file.  The variable may be 1-D, 2-D, or
    3-D, and of one of the types <CODE>{ M3INT, M3REAL, M3DBLE
    }</CODE>.  Returns <CODE>.FALSE.</CODE> if the variable is not
    available, if the type or dimensionality is not supported, or if
    there is a write-failure.
    <PRE>
    LOGICAL FUNCTION WRITEWRF( VNAME, JDATE, JTIME, NCOLS, [NROWS, [NLAYS,]] BUF )
        CHARACTER(LEN=*), INTENT(IN   ) :: VNAME
        INTEGER         , INTENT(IN   ) :: JDATE, JTIME
        INTEGER         , INTENT(IN   ) :: NCOLS[, NROWS[, NLAYS,]]
        &lt;type&gt;          , INTENT(  OUT) :: BUF( NCOLS[, NROWS[, NLAYS,]] )
    </PRE>
    <P>

    <H3><CODE>CLOSEWRF()</CODE></H3>
    Closes the WRF-netCDF format file with logical name FNAME.
    <PRE>
    LOGICAL FUNCTION CLOSEWRF( FNAME )
        CHARACTER(LEN=*), INTENT(IN   ) :: FNAME        !!  logical file name
    </PRE>
    <P>

</BLOCKQUOTE>

<HR> <!- ------------------------------------------------------------- ->

<A HREF = "AA.html">
To: <STRONG>Models-3/EDSS I/O API:  The Help Pages</STRONG>
</A><P>


Send comments to
<A HREF = "mailto:carlie@jyarborough.com"> <ADDRESS>
          Carlie J. Coats, Jr. <br>
          carlie@jyarborough.com  </ADDRESS> </A><P>

<!--#include virtual="/INCLUDES/footer.html" -->


</BODY>
</HTML>

