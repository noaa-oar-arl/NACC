<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<!-- "$Id: WRATT3.html 1 2017-06-10 18:05:20Z coats $" -->
<META NAME="MSSmartTagsPreventParsing" CONTENT="TRUE"> 
<TITLE> WRATT3() and WRATTC() </TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFFF" 
      TOPMARGIN="15" 
      MARGINHEIGHT="15" 
      LEFTMARGIN="15" 
      MARGINWIDTH="15">
<H1>    WRATT3() and WRATTC() </H1>

<H2> Fortran version: </H2>
<PRE>
    LOGICAL FUNCTION   WRATT3( FNAME, VNAME,
 &amp;                             ANAME, ATYPE, ASIZE, AVAL )
    LOGICAL ENTRY      WRATTC( FNAME, VNAME, ANAME, CVAL )

        CHARACTER*(*), INTENT(IN   ) :: FNAME         !  logical file name
        CHARACTER*(*), INTENT(IN   ) :: VNAME         !  variable name, or ALLVARS3
        CHARACTER*(*), INTENT(IN   ) :: ANAME         !  attribute name
        INTEGER      , INTENT(IN   ) :: ATYPE         !  attribute type (M3CHAR, M3REAL, M3INT, M3INT8, M3DBLE)
        INTEGER      , INTENT(IN   ) :: ASIZE         !  attribute size
        REAL         , INTENT(IN   ) :: AVAL( AMAX )  !  attribute value (numeric)
        CHARACTER*(*), INTENT(IN   ) :: CVAL          !  attribute value (character-string)
</PRE><P> 

<H2> C version: </H2>

    <CODE>wratt3c()</CODE> is a C wrapper calling the Fortran 
    <CODE>WRATT3()</CODE> and <CODE>WRATTC()</CODE>:
<PRE>
    integer wratt3c( const char          * fname ,
                     const char          * vname ,
                     const char          * aname ,
                     int                   atype ,
                     int                   asize ,
                     void                * aval )
</PRE><P> 

<H2> Summary: </H2>

    <CODE>WRATT3()</CODE> writes the numeric (<CODE>INTEGER, REAL, or
    DOUBLE</CODE> attribute named <CODE>ANAME</CODE> for the variable
    <CODE>VNAME</CODE> to the file with
    <A HREF = "LOGICALS.html">logical name</A> <CODE>FNAME</CODE>
    from the array <CODE>AVAL(AMAX)</CODE>; <CODE>WRATTC()</CODE> writes
    the <CODE>CHARACTER</CODE> string valued attribute <CODE>CVAL</CODE>.
    <P>
    
    Returns  <CODE>.TRUE.</CODE> (or 1) if the operation succeeds,
    <CODE>.FALSE.</CODE> (or 0) if it fails.  For failure, writes
    a log message indicating the nature of the failure.
    <P>

    For Fortran-90 declarations:    
    <PRE>
    <A HREF = "M3UTILIO.html">USE M3UTILIO</A>
    </PRE><P>


<H2> Preconditions: </H2>

    <A HREF = "M3UTIOLIO.html"> <CODE>USE&nbsp;M3UTILIO</CODE></A>
    or <A HREF = "INCLUDE.html#iodecl"><CODE>INCLUDE&nbsp;'IODECL3.EXT'</CODE></A>
    for Fortran, or 
    <CODE>#include&nbsp;&quot;iodecl3.h&quot;</CODE> and 
    <CODE>#include&nbsp;&quot;fdesc3.h&quot;</CODE> for C.
    <P> 

    I/O&nbsp;API must already be initialized by a call to
    <A HREF = "INIT3.html"><CODE>INIT3()</CODE></A>.
    <P> 
    
    Names <CODE>FNAME</CODE> and <CODE>VNAME</CODE> must have length
    at most 16, exclusive of trailing blanks.
    <P> 

    File <CODE>FNAME</CODE> must be netCDF-based rather than 
    &quot;buffered&quot; or &quot;virtual&quot;; it must already have
    been opened by  <A HREF = "OPEN3.html"><CODE>OPEN3()</CODE> or
    <CODE>open3c()</CODE></A>.
    <P>

    There is a significant performance penalty if the
    <CODE>WRATT*()</CODE> routines are called after data has
    been written to the file, since in that case the underlying
    netCDF run-time will <EM>create a copy</EM> of the entire
    existing file that contains the new attribute, and then
    rename the copy to the original file name.
    <P>
        

<H2> See Also: </H2>

    <UL>
        <LI>  <A HREF = "INQATT3.html" >INQATT3()</A>
        <LI>  <A HREF = "RDATT3.html"  >RDATT3() and RDATTC()</A>
        <LI>  <A HREF = "DESC3.html"   >DESC3()</A>
        <LI>  <A HREF = "OPEN3.html"   >OPEN3()</A>
        <LI>  <A HREF = "MODATTS3.html">MODULE&nbsp;MODATTS3</A>
    </UL>
    <P>


<H2> Fortran Usage: </H2>

<PRE>
    ...
    USE M3UTILIO
    ...
    &lt;under construction&gt;
    ...
</PRE><P> 

<H2> C Usage: </H2>
<PRE>
    ...
    #include &quot;iodecl3.h&quot;
    ...
    &lt;under construction&gt;
    ...
</PRE><P> 


<HR>

<A HREF = "RDATT3.html" >
Previous:  <STRONG>RDATT3 and RDATTC()</STRONG>
</A><P> 

<A HREF = "FILCHK3.html" >
Next:  <STRONG>FILCHK3()</STRONG>
</A><P> 

<A HREF = "AA.html#ioapi"> 
Up: <STRONG>I/O API:  Public Routines</STRONG> 
</A><P>

<A HREF = "AA.html"> 
To: <STRONG>Models-3/EDSS I/O API:   The Help Pages</STRONG> 
</A><P>

</BODY>
</HTML>

