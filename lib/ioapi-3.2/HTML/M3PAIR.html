
<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<!-- "$Id: M3PAIR.html 26 2017-10-13 17:30:06Z coats $" -->
<META NAME="MSSmartTagsPreventParsing" CONTENT="TRUE"> 
<TITLE> Program M3PAIR </TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFFF" 
      TOPMARGIN="15" 
      MARGINHEIGHT="15" 
      LEFTMARGIN="15" 
      MARGINWIDTH="15">
<H1>    Program M3PAIR </H1>

<H2> Usage </H2>
<PRE>
setenv  &lt;infile A&gt;   &lt;path name&gt;
setenv  &lt;infile B&gt;   &lt;path name&gt;
setenv  &lt;outfile&gt;    &lt;path name&gt;
m3pair [&lt;infile A&gt; &lt;infile B&gt; &lt;reportfile&gt;] 
    &lt;and respond to the prompts&gt;
</PRE>

    where <VAR>infile A </VAR> and <VAR>infile B </VAR> are the 
    <A HREF = "LOGICALS.html"> logical names </A> of the input files, 
    and <VAR>outfile</VAR> is the logical name of the output file
    to which the ASCII pairing is printed.  
    <P> 

<H2> Summary </H2>

    Paired-value ASCII output for I/O&nbsp;API files (e.g., to feed 
    into <VAR>Kaleidagraph</VAR> or <VAR>xmgr</VAR>).
    <P>

    The <CODE>M3PAIR</CODE> program constructs an ASCII file of 
    value-pairs for a pair of<A HREF = "VBLE.html"> variables</A> 
    from a user-specified pair of<A HREF = "DATATYPES.html#grdded"> GRIDDED </A> 
    Models-3 files (say &quot;<VAR>infile A</VAR>&quot; and 
    &quot;<VAR>infile B</VAR>&quot;). The files must use the same 
    <A HREF = "GRIDS.html"> grid </A> in order for the program to 
    perform the comparison operations.  The comparison takes values
    from a user-selected window into the common grid, defined in terms
    of column, row, and layer subscript ranges; the default window is
    the entire grid.
    <P> 

    <EM>Note that file B can be the same as file A;</EM> this allows 
    you to pair variables O3 and NO2 from the same file, for example, or 
    to pair NO2 between two successive hours or days within that file.
    <P> 

    By <STRONG>default</STRONG>, the program finds the common-denominator 
    time step, and for each common time step, starting at the beginning of 
    both files, constructs paired output for variable-A and variable-B
    for a user-selected window into the (common) grid.  In the 
    most frequently expected application, both files will have the same
    timestep, duration, starting date and time, and set of variables; 
    <CODE>M3PAIR</CODE> will then compare two variables, one from each
    file, for all time steps.  In a more extreme example, if file A is 
    time-independent with variables V, etc., and file B is time dependent
    starting at (1988200,000000) with variable W, etc., then <CODE>M3PAIR</CODE> 
    might compare V from file A with all time steps of W from file B.
    <P> 

    <STRONG>Before you run the program,</STRONG> you need to assign 
    <A HREF = "LOGICALS.html"> logical names </A> to the physical file
    names of all three files, according to Models-3 conventions, using the 
    operation 
    <PRE>
        &quot;setenv <VAR>&lt;lname&gt; &lt;pname&gt;</VAR>&quot;
    </PRE>
    <STRONG>The program will prompt you</STRONG> for the needed logical names 
    you have chosen for the input files, and then extensively for the options 
    to choose; the prompts will have default responses which can be accepted 
    by hitting &lt;RETURN&gt;.  The specification of starting date and time, 
    and duration for the analysis follow Models-3 
    <A HREF = "DATETIME.html"> date and time conventions. </A>
    <P> 

    Note that the set of pairings which can be performed by one execution
    of M3PAIR is quite complex and context-dependent (being determined
    by the files being compared).
    If you want to run this program in <STRONG>batch mode</STRONG> 
    (from a script), the recommended way to develop the script is to 
    run the program once interactively noting the pattern of responses 
    to prompts which generate the particular analysis you want.  The 
    pattern of responses then becomes either a command-input file which 
    is redirected into the program in the script, or becomes a 
    &quot;here-document&quot; fed into the execution.  The following 
    is an excerpt of a script which does the default pairing on the
    first variable from each of /tmp/myfile.A and /tmp/myfile.B, using 
    the here-document approach:
<PRE>
    ...
    setenv FOO  /tmp/myfile.A
    setenv BAR  /tmp/myfile.B
    setenv QUX  /tmp/myfile.C
    m3pair  FOO BAR QUX &lt;&lt;  !DONE
    1
    1






    !DONE
    ...
</PRE>
<P> 

    Source code for program <CODE>m3pair</CODE>is available
    <A HREF = "gpl.txt">under the GNU GPL License, Version 2</A>,
    and can be downloaded here <A HREF = "AVAIL.html">from CMAS</A> or
    here <A HREF="https://github.com/cjcoats/ioapi-3.2">from GitHub</A>.
    <P>


<HR>

<A HREF = "M3MERGE.html" >
Previous:  <STRONG>m3merge</STRONG>
</A><P> 

<A HREF = "M3PROBE.html" >
Next:  <STRONG>m3probe</STRONG>
</A><P> 

<A HREF = "AA.html#tools"> 
Up: <STRONG>Related Programs</STRONG> 
</A><P>

<A HREF = "AA.html"> 
To: <STRONG>Models-3/EDSS I/O API:   The Help Pages</STRONG> 
</A><P>

    
</BODY>
</HTML>

