
<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<!-- "$Id: LASTTIME.html 1 2017-06-10 18:05:20Z coats $" -->
<META NAME="MSSmartTagsPreventParsing" CONTENT="TRUE"> 
<TITLE> MMDDYY() and mmddyyc() </TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFFF" 
      TOPMARGIN="15" 
      MARGINHEIGHT="15" 
      LEFTMARGIN="15" 
      MARGINWIDTH="15">

<H1>    LASTTIME() </H1>

<H2> Fortran version: </H2>
<PRE>
    SUBROUTINE LASTTIME( SDATE, STIME, TSTEP, NSTEPS, EDATE, ETIME )
        INTEGER, INTENT(IN   ) :: SDATE   !  date, YYYDDD = 1000*year + day(1...365,6)
        INTEGER, INTENT(IN   ) :: STIME   !  time (encoded HHMMSS)
        INTEGER, INTENT(IN   ) :: TSTEP   !  timestep (encoded HHMMSS)
        INTEGER, INTENT(IN   ) :: NSTEPS  !  number of timesteps
        INTEGER, INTENT(  OUT) :: EDATE   !  date, YYYDDD = 1000*year + day(1...365,6)
        INTEGER, INTENT(  OUT) :: ETIME   !  time (encoded HHMMSS)
</PRE><P> 

<H2> NO C version: </H2>
<P> 

<H2> Summary: </H2>

    <BLOCKQUOTE>
    Find the last date &amp; time <CODE>EDATE:ETIME</CODE> in the
    time step sequence starting at <CODE>SDATE:STIME</CODE>, with
    time step  <CODE>TSTEP</CODE> and  <CODE>NSTEPS</CODE> time
    steps.  Uses high precision arithemetic internally, so that it
    is safe for very long (even multi-century) applications.
    <P> 
    See also subroutines
     <A HREF = "CURRSTEP.html"> CURRSTEP()</A> and
     <A HREF = "NEXTIME.html"> NEXTIME()</A>.
    </BLOCKQUOTE>

<H2> Preconditions: </H2>

    <BLOCKQUOTE>
    <CODE>USE M3UTILIO</CODE>
    <P> 
    </BLOCKQUOTE>


<H2> Fortran Usage: </H2>

    <BLOCKQUOTE>
    To find the last date&amp;time in a time stepped I/O&nbsp;API file:
    </BLOCKQUOTE>

<PRE>
    ...
    USE M3UTILIO
    ...
    INTEGER         EDATE, ETIME
    CHARACTER*256   MESG
    ...
    IF ( .NOT.OPEN3( 'MYFILE', FSUNKN3, 'MyProgram' ) ) THEN
        CALL M3EX(T( 'MyProgram', 0, 0. 'Could not open "MYFILE"', 2 )
    ELSE IF ( .NOT.DESC3( 'MYFILE' ) ) THEN
        CALL M3EX(T( 'MyProgram', 0, 0. 'Could not DESC3 "MYFILE"', 2 )
    ELSE
        ...
        CALL LASTTIME( SDATE3D,STIME3D,TSTEP3D, MXREC3D, EDATE, ETIME )
        WRITE( MESG, '( A, I9.7, A, I6.6 )' )       &amp;
            '"MYFILE" ending date&amp;time', EDATE, ':', ETIME
        CALL M3MESG( MESG )
        ...
    END IF
    ...
</PRE><P> 
    

<HR>

<A HREF = "JULIAN.html" >
Previous:  <STRONG>JULIAN</STRONG>
</A><P> 

<A HREF = "MMDDYY.html" >
Next:  <STRONG>MMDDYY</STRONG>
</A><P> 

<A HREF = "AA.html#datestuff"> 
Up: <STRONG>Date-Time Manipulation Routines</STRONG> 
</A><P>

<A HREF = "AA.html"> 
To: <STRONG>Models-3/EDSS I/O API:   The Help Pages</STRONG> 
</A><P>

</BODY>
</HTML>

